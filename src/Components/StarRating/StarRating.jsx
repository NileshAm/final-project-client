import React from "react";

const StarRating = ({ Rating, starSize, className }) => {
  if (Rating === undefined) {
    throw new Error("Rating Prop must be assigned");
  }

  let stars = [];

  let full = Math.floor(Rating);
  for (let i = 0; i < full; i++) {
    stars.push(<Star state="full" width={starSize} />);
  }

  if (Rating - full >= 0.5) {
    stars.push(<Star state="half" width={starSize} />);
  }

  for (let i = stars.length; i < 5; i++) {
    stars.push(<Star state="empty" width={starSize} />);
  }

  return (
    <div className={"d-flex justify-content-around " + className}>
      {stars.map((v, k) => {
        return <div key={k}>{v}</div>;
      })}
    </div>
  );
};

const Star = ({ state, width }) => {
  if (state === "full") {
    return (
      <svg
        width={width}
        viewBox="0 0 149 142"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          id="FullStar"
          d="M80.7891 5.42584C78.5148 -0.622665 69.959 -0.622658 67.6848 5.42585L53.5229 43.0902C52.5358 45.7155 50.0768 47.4982 47.2747 47.62L6.95309 49.3721C0.474523 49.6536 -2.1717 57.8321 2.91399 61.8554L34.4376 86.7936C36.6487 88.5428 37.5946 91.4478 36.8374 94.1635L26.0618 132.81C24.3238 139.043 31.248 144.094 36.653 140.537L70.3884 118.333C72.7239 116.796 75.75 116.796 78.0854 118.333L111.821 140.537C117.226 144.094 124.15 139.043 122.412 132.81L111.636 94.1635C110.879 91.4478 111.825 88.5428 114.036 86.7936L145.56 61.8554C150.646 57.8321 147.999 49.6536 141.521 49.3721L101.199 47.62C98.397 47.4982 95.9381 45.7155 94.9509 43.0902L80.7891 5.42584Z"
          fill="#EFC52D"
        />
      </svg>
    );
  } else if (state === "half") {
    return (
      <svg
        width={width}
        viewBox="0 0 149 142"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          id="HalfStar"
          d="M80.8474 5.42583C78.5732 -0.622662 70.0174 -0.622662 67.7431 5.42586L53.5813 43.0902C52.5941 45.7155 50.1352 47.4982 47.333 47.62L7.01146 49.3721C0.532883 49.6536 -2.11336 57.8321 2.97234 61.8554L34.496 86.7936C36.707 88.5428 37.6529 91.4478 36.8957 94.1635L26.1201 132.81C24.3822 139.043 31.3064 144.094 36.7114 140.537L70.4468 118.333C72.7822 116.796 75.8083 116.796 78.1437 118.333L111.879 140.537C117.284 144.094 124.208 139.043 122.47 132.81L111.695 94.1635C110.938 91.4478 111.884 88.5428 114.095 86.7936L145.618 61.8554C150.704 57.8321 148.058 49.6536 141.579 49.3721L101.258 47.62C98.4554 47.4982 95.9964 45.7155 95.0093 43.0902L80.8474 5.42583ZM75.9435 111.424C75.4433 111.095 74.8693 110.931 74.2953 110.931V6.51711C75.4554 6.51711 76.6155 7.16488 77.103 8.46041L92.7297 49.9819C93.153 51.1066 94.2067 51.8702 95.4073 51.9224L139.945 53.8559C142.722 53.9765 143.856 57.483 141.675 59.2067L106.818 86.756C105.869 87.5057 105.464 88.7515 105.789 89.9161L117.696 132.582C118.442 135.253 115.475 137.419 113.158 135.895L75.9435 111.424Z"
          fill="#EFC52D"
        />
      </svg>
    );
  } else if (state === "empty") {
    return (
      <svg
        width={width}
        viewBox="0 0 149 142"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          id="EmptyStar"
          fillRule="evenodd"
          clipRule="evenodd"
          d="M80.9055 5.42583C78.6313 -0.622662 70.0755 -0.622662 67.8012 5.42586L53.6393 43.0902C52.6522 45.7155 50.1933 47.4982 47.3911 47.62L7.06954 49.3721C0.590967 49.6536 -2.05524 57.8321 3.03045 61.8554L34.554 86.7936C36.7651 88.5428 37.711 91.4478 36.9538 94.1635L26.1782 132.81C24.4403 139.043 31.3645 144.094 36.7695 140.537L70.5049 118.333C72.8403 116.796 75.8664 116.796 78.2018 118.333L111.937 140.537C117.342 144.094 124.266 139.043 122.529 132.81L111.753 94.1635C110.996 91.4478 111.942 88.5428 114.153 86.7936L145.676 61.8554C150.762 57.8321 148.116 49.6536 141.637 49.3721L101.316 47.62C98.5135 47.4982 96.0545 45.7155 95.0674 43.0902L80.9055 5.42583ZM77.1611 8.46041C76.1859 5.86934 72.5208 5.86934 71.5456 8.46041L55.9189 49.9819C55.4956 51.1066 54.4419 51.8702 53.2413 51.9224L8.70407 53.8559C5.92681 53.9765 4.79302 57.483 6.97396 59.2067L41.8306 86.756C42.7791 87.5057 43.185 88.7515 42.8599 89.9161L30.9524 132.582C30.207 135.253 33.1734 137.419 35.4903 135.895L72.7051 111.424C73.7055 110.766 75.0012 110.766 76.0016 111.424L113.216 135.895C115.533 137.419 118.5 135.253 117.754 132.582L105.847 89.9161C105.522 88.7515 105.928 87.5057 106.876 86.756L141.733 59.2067C143.914 57.483 142.78 53.9765 140.003 53.8559L95.4654 51.9224C94.2648 51.8702 93.2111 51.1066 92.7878 49.9819L77.1611 8.46041Z"
          fill="#EFC52D"
        />
      </svg>
    );
  } else {
    throw new Error(
      "state prop must be in the form of 'full', 'half' or 'empty'"
    );
  }
};

export default StarRating;
